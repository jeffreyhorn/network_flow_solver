Network Simplex Solver - Performance Profiling
================================================================================

================================================================================
Profiling: Small Transportation Problem (5x5, 25 arcs)
================================================================================
Status: optimal
Iterations: 26
Objective: 100.00

Top 30 functions by cumulative time:
--------------------------------------------------------------------------------
         7912 function calls (7864 primitive calls) in 0.047 seconds

   Ordered by: cumulative time
   List reduced from 178 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    0.047    0.047 /Users/jeff/experiments/network_flow_solver/src/network_solver/solver.py:13(solve_min_cost_flow)
        1    0.001    0.001    0.043    0.043 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:1009(solve)
        2    0.001    0.000    0.031    0.016 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:761(_run_simplex_iterations)
      114    0.005    0.000    0.016    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
       27    0.000    0.000    0.015    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:623(_find_entering_arc)
       27    0.001    0.000    0.015    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
       88    0.000    0.000    0.015    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)
       26    0.002    0.000    0.015    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
       62    0.001    0.000    0.014    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
      114    0.000    0.000    0.011    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
      114    0.010    0.000    0.010    0.000 {method 'solve' of 'SuperLU' objects}
       29    0.001    0.000    0.009    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
        6    0.007    0.001    0.007    0.001 {built-in method builtins.sum}
        3    0.000    0.000    0.007    0.002 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:362(_rebuild_tree_structure)
        3    0.000    0.000    0.007    0.002 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:129(_build_numeric_basis)
       26    0.000    0.000    0.006    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:193(replace_arc)
        6    0.000    0.000    0.006    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:24(build_lu)
       26    0.001    0.000    0.005    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
        6    0.000    0.000    0.004    0.001 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/_compressed.py:30(__init__)
        1    0.000    0.000    0.004    0.004 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:86(__init__)
        3    0.000    0.000    0.004    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:24(__init__)
        6    0.000    0.000    0.002    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/_coo.py:30(__init__)
       52    0.001    0.000    0.002    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/numpy/linalg/_linalg.py:2623(norm)
       26    0.001    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:86(collect_cycle)
        6    0.000    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/linalg/_dsolve/linsolve.py:329(splu)
       64    0.000    0.000    0.001    0.000 {method 'max' of 'numpy.ndarray' objects}
       26    0.001    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
        6    0.000    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/_coo.py:202(_check)
       64    0.000    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/numpy/_core/_methods.py:41(_amax)
       76    0.001    0.000    0.001    0.000 {method 'reduce' of 'numpy.ufunc' objects}




Top 30 functions by total time:
--------------------------------------------------------------------------------
         7912 function calls (7864 primitive calls) in 0.047 seconds

   Ordered by: internal time
   List reduced from 178 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
      114    0.010    0.000    0.010    0.000 {method 'solve' of 'SuperLU' objects}
        6    0.007    0.001    0.007    0.001 {built-in method builtins.sum}
      114    0.005    0.000    0.016    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
       26    0.002    0.000    0.015    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
       29    0.001    0.000    0.009    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
       26    0.001    0.000    0.005    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
       76    0.001    0.000    0.001    0.000 {method 'reduce' of 'numpy.ufunc' objects}
       27    0.001    0.000    0.015    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
       26    0.001    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:86(collect_cycle)
       62    0.001    0.000    0.014    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
       26    0.001    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
       52    0.001    0.000    0.002    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/numpy/linalg/_linalg.py:2623(norm)
        6    0.001    0.000    0.001    0.000 {built-in method scipy.sparse.linalg._dsolve._superlu.gstrf}
        2    0.001    0.000    0.031    0.016 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:761(_run_simplex_iterations)
      827    0.001    0.000    0.001    0.000 {method 'append' of 'list' objects}
       10    0.001    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:1235(<genexpr>)
       18    0.001    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/_sputils.py:264(get_index_dtype)
        1    0.001    0.001    0.043    0.043 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:1009(solve)
      254    0.000    0.000    0.000    0.000 {method 'reshape' of 'numpy.ndarray' objects}
      114    0.000    0.000    0.001    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:169(_column_vector)
      114    0.000    0.000    0.011    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
      129    0.000    0.000    0.000    0.000 {built-in method numpy.array}
        6    0.000    0.000    0.002    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/_coo.py:30(__init__)
       26    0.000    0.000    0.006    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:193(replace_arc)
      194    0.000    0.000    0.000    0.000 {built-in method builtins.max}
      117    0.000    0.000    0.000    0.000 {built-in method numpy.zeros}
       47    0.000    0.000    0.001    0.000 {built-in method builtins.any}
      357    0.000    0.000    0.000    0.000 {built-in method numpy.asarray}
      486    0.000    0.000    0.000    0.000 {method 'popleft' of 'collections.deque' objects}
       88    0.000    0.000    0.015    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)




================================================================================
Profiling: Medium Transportation Problem (20x20, 400 arcs)
================================================================================
Status: optimal
Iterations: 42
Objective: 10500.00

Top 30 functions by cumulative time:
--------------------------------------------------------------------------------
         88993 function calls in 0.594 seconds

   Ordered by: cumulative time
   List reduced from 168 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    0.594    0.594 /Users/jeff/experiments/network_flow_solver/src/network_solver/solver.py:13(solve_min_cost_flow)
        1    0.001    0.001    0.579    0.579 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:1009(solve)
        2    0.001    0.001    0.568    0.284 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:761(_run_simplex_iterations)
       43    0.000    0.000    0.494    0.011 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:623(_find_entering_arc)
       43    0.023    0.001    0.494    0.011 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
     2150    0.029    0.000    0.448    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
     2192    0.007    0.000    0.419    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)
     2234    0.259    0.000    0.404    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
     2234    0.028    0.000    0.129    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
     2234    0.090    0.000    0.090    0.000 {method 'solve' of 'SuperLU' objects}
       42    0.003    0.000    0.060    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
       45    0.014    0.000    0.034    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
        3    0.000    0.000    0.017    0.006 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:362(_rebuild_tree_structure)
        3    0.001    0.000    0.016    0.005 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:129(_build_numeric_basis)
        1    0.000    0.000    0.016    0.016 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:86(__init__)
     2234    0.010    0.000    0.015    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:169(_column_vector)
       42    0.001    0.000    0.015    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:193(replace_arc)
        6    0.000    0.000    0.015    0.002 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:24(build_lu)
       42    0.002    0.000    0.014    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
       73    0.007    0.000    0.013    0.000 {built-in method builtins.any}
        6    0.007    0.001    0.012    0.002 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/_compressed.py:30(__init__)
     2705    0.011    0.000    0.012    0.000 {built-in method builtins.max}
     4645    0.011    0.000    0.011    0.000 {built-in method numpy.asarray}
     4510    0.009    0.000    0.009    0.000 {method 'reshape' of 'numpy.ndarray' objects}
     4455    0.008    0.000    0.008    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:45(backward_residual)
     2249    0.008    0.000    0.008    0.000 {built-in method numpy.array}
       42    0.005    0.000    0.007    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
     4374    0.005    0.000    0.007    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:40(forward_residual)
    17315    0.006    0.000    0.006    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:798(<genexpr>)
     2237    0.006    0.000    0.006    0.000 {built-in method numpy.zeros}




Top 30 functions by total time:
--------------------------------------------------------------------------------
         88993 function calls in 0.594 seconds

   Ordered by: internal time
   List reduced from 168 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     2234    0.259    0.000    0.404    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
     2234    0.090    0.000    0.090    0.000 {method 'solve' of 'SuperLU' objects}
     2150    0.029    0.000    0.448    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
     2234    0.028    0.000    0.129    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
       43    0.023    0.001    0.494    0.011 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
       45    0.014    0.000    0.034    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
     2705    0.011    0.000    0.012    0.000 {built-in method builtins.max}
     4645    0.011    0.000    0.011    0.000 {built-in method numpy.asarray}
     2234    0.010    0.000    0.015    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:169(_column_vector)
     4510    0.009    0.000    0.009    0.000 {method 'reshape' of 'numpy.ndarray' objects}
     4455    0.008    0.000    0.008    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:45(backward_residual)
     2249    0.008    0.000    0.008    0.000 {built-in method numpy.array}
     2192    0.007    0.000    0.419    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)
       73    0.007    0.000    0.013    0.000 {built-in method builtins.any}
        6    0.007    0.001    0.012    0.002 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/scipy/sparse/_compressed.py:30(__init__)
    17315    0.006    0.000    0.006    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:798(<genexpr>)
     2237    0.006    0.000    0.006    0.000 {built-in method numpy.zeros}
       42    0.005    0.000    0.007    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
     4374    0.005    0.000    0.007    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:40(forward_residual)
     2150    0.004    0.000    0.005    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:649(_is_better_candidate)
     5284    0.003    0.000    0.003    0.000 {method 'append' of 'list' objects}
       42    0.003    0.000    0.060    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
       42    0.003    0.000    0.004    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:86(collect_cycle)
     4904    0.003    0.000    0.003    0.000 {built-in method builtins.abs}
       42    0.002    0.000    0.014    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
      108    0.002    0.000    0.002    0.000 {method 'reduce' of 'numpy.ufunc' objects}
     4523    0.002    0.000    0.002    0.000 {built-in method math.isinf}
        1    0.002    0.002    0.003    0.003 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:225(_build_arcs)
       84    0.002    0.000    0.004    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/numpy/linalg/_linalg.py:2623(norm)
     2716    0.002    0.000    0.002    0.000 {method 'append' of 'collections.deque' objects}




================================================================================
Profiling: Large Transportation Problem (50x50, 2500 arcs)
================================================================================
Status: optimal
Iterations: 253
Objective: 18300.00

Top 30 functions by cumulative time:
--------------------------------------------------------------------------------
         1535538 function calls in 7.758 seconds

   Ordered by: cumulative time
   List reduced from 169 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    7.761    7.761 /Users/jeff/experiments/network_flow_solver/src/network_solver/solver.py:13(solve_min_cost_flow)
        1    0.005    0.005    7.709    7.709 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:1009(solve)
        2    0.007    0.004    7.677    3.838 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:761(_run_simplex_iterations)
      254    0.002    0.000    6.617    0.026 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:623(_find_entering_arc)
      254    0.705    0.003    6.616    0.026 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
    20225    0.354    0.000    5.424    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
    20478    0.069    0.000    5.066    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)
    20729    3.324    0.000    4.861    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
    20729    0.128    0.000    1.351    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
    20729    1.165    0.000    1.165    0.000 {method 'solve' of 'SuperLU' objects}
      253    0.024    0.000    0.718    0.003 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
      206    0.177    0.001    0.335    0.002 {built-in method builtins.any}
   188583    0.215    0.000    0.294    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:40(forward_residual)
      256    0.122    0.000    0.218    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
    20731    0.105    0.000    0.187    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:169(_column_vector)
      253    0.148    0.001    0.174    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
   366702    0.158    0.000    0.158    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:798(<genexpr>)
      253    0.004    0.000    0.113    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:193(replace_arc)
    41709    0.113    0.000    0.113    0.000 {method 'reshape' of 'numpy.ndarray' objects}
      253    0.078    0.000    0.111    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:86(collect_cycle)
   188916    0.108    0.000    0.108    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:45(backward_residual)
      253    0.023    0.000    0.107    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
    20737    0.082    0.000    0.082    0.000 {built-in method numpy.zeros}
   190923    0.080    0.000    0.080    0.000 {built-in method math.isinf}
    20759    0.080    0.000    0.080    0.000 {built-in method numpy.array}
    23537    0.057    0.000    0.060    0.000 {built-in method builtins.max}
    20225    0.043    0.000    0.055    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:649(_is_better_candidate)
    42313    0.054    0.000    0.054    0.000 {built-in method numpy.asarray}
        1    0.001    0.001    0.052    0.052 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:86(__init__)
    78146    0.045    0.000    0.045    0.000 {built-in method builtins.abs}




Top 30 functions by total time:
--------------------------------------------------------------------------------
         1535538 function calls in 7.758 seconds

   Ordered by: internal time
   List reduced from 169 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
    20729    3.324    0.000    4.861    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
    20729    1.165    0.000    1.165    0.000 {method 'solve' of 'SuperLU' objects}
      254    0.705    0.003    6.616    0.026 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
    20225    0.354    0.000    5.424    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
   188583    0.215    0.000    0.294    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:40(forward_residual)
      206    0.177    0.001    0.335    0.002 {built-in method builtins.any}
   366702    0.158    0.000    0.158    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:798(<genexpr>)
      253    0.148    0.001    0.174    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
    20729    0.128    0.000    1.351    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
      256    0.122    0.000    0.218    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
    41709    0.113    0.000    0.113    0.000 {method 'reshape' of 'numpy.ndarray' objects}
   188916    0.108    0.000    0.108    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:45(backward_residual)
    20731    0.105    0.000    0.187    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:169(_column_vector)
    20737    0.082    0.000    0.082    0.000 {built-in method numpy.zeros}
   190923    0.080    0.000    0.080    0.000 {built-in method math.isinf}
    20759    0.080    0.000    0.080    0.000 {built-in method numpy.array}
      253    0.078    0.000    0.111    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:86(collect_cycle)
    20478    0.069    0.000    5.066    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)
    23537    0.057    0.000    0.060    0.000 {built-in method builtins.max}
    42313    0.054    0.000    0.054    0.000 {built-in method numpy.asarray}
    78146    0.045    0.000    0.045    0.000 {built-in method builtins.abs}
    20225    0.043    0.000    0.055    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:649(_is_better_candidate)
    41301    0.039    0.000    0.039    0.000 {method 'append' of 'collections.deque' objects}
    25698    0.033    0.000    0.033    0.000 {method 'add' of 'set' objects}
    58551    0.032    0.000    0.032    0.000 {method 'append' of 'list' objects}
    36588    0.028    0.000    0.028    0.000 {method 'popleft' of 'collections.deque' objects}
      253    0.024    0.000    0.718    0.003 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
      253    0.023    0.000    0.107    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
        1    0.020    0.020    0.030    0.030 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:225(_build_arcs)
      502    0.018    0.000    0.033    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/numpy/linalg/_linalg.py:2623(norm)




================================================================================
Profiling: Network Flow Problem (10 sources, 30 intermediates, 10 sinks)
================================================================================
Status: optimal
Iterations: 152
Objective: 38000.00

Top 30 functions by cumulative time:
--------------------------------------------------------------------------------
         156268 function calls in 0.853 seconds

   Ordered by: cumulative time
   List reduced from 169 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
        1    0.000    0.000    0.853    0.853 /Users/jeff/experiments/network_flow_solver/src/network_solver/solver.py:13(solve_min_cost_flow)
        1    0.001    0.001    0.839    0.839 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:1009(solve)
        2    0.004    0.002    0.831    0.416 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:761(_run_simplex_iterations)
      153    0.001    0.000    0.508    0.003 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:623(_find_entering_arc)
      153    0.043    0.000    0.508    0.003 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
     1598    0.316    0.000    0.450    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
     1447    0.014    0.000    0.440    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)
     1295    0.029    0.000    0.432    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
      152    0.023    0.000    0.289    0.002 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
     1598    0.007    0.000    0.105    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
     1598    0.094    0.000    0.094    0.000 {method 'solve' of 'SuperLU' objects}
      155    0.054    0.000    0.082    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
      152    0.002    0.000    0.073    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:193(replace_arc)
      152    0.009    0.000    0.069    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
      152    0.025    0.000    0.032    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:86(collect_cycle)
      176    0.020    0.000    0.030    0.000 {built-in method builtins.any}
      152    0.017    0.000    0.025    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
      302    0.014    0.000    0.023    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/numpy/linalg/_linalg.py:2623(norm)
    10710    0.021    0.000    0.021    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:45(backward_residual)
     3347    0.016    0.000    0.016    0.000 {method 'reshape' of 'numpy.ndarray' objects}
     1623    0.015    0.000    0.015    0.000 {built-in method numpy.array}
        1    0.000    0.000    0.015    0.015 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:86(__init__)
    10660    0.010    0.000    0.014    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:40(forward_residual)
        5    0.001    0.000    0.014    0.003 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:129(_build_numeric_basis)
     1599    0.008    0.000    0.013    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:169(_column_vector)
     1988    0.013    0.000    0.013    0.000 {built-in method builtins.max}
    18630    0.011    0.000    0.011    0.000 {method 'append' of 'list' objects}
       10    0.000    0.000    0.011    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:24(build_lu)
    27602    0.010    0.000    0.010    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:798(<genexpr>)
        1    0.009    0.009    0.010    0.010 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:225(_build_arcs)




Top 30 functions by total time:
--------------------------------------------------------------------------------
         156268 function calls in 0.853 seconds

   Ordered by: internal time
   List reduced from 169 to 30 due to restriction <30>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1598    0.316    0.000    0.450    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:46(solve)
     1598    0.094    0.000    0.094    0.000 {method 'solve' of 'SuperLU' objects}
      155    0.054    0.000    0.082    0.001 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:41(rebuild)
      153    0.043    0.000    0.508    0.003 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:657(_find_entering_arc_devex)
     1295    0.029    0.000    0.432    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:635(_update_devex_weight)
      152    0.025    0.000    0.032    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:86(collect_cycle)
      152    0.023    0.000    0.289    0.002 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:815(_pivot)
    10710    0.021    0.000    0.021    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:45(backward_residual)
      176    0.020    0.000    0.030    0.000 {built-in method builtins.any}
      152    0.017    0.000    0.025    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:754(_update_tree_sets)
     3347    0.016    0.000    0.016    0.000 {method 'reshape' of 'numpy.ndarray' objects}
     1623    0.015    0.000    0.015    0.000 {built-in method numpy.array}
     1447    0.014    0.000    0.440    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:177(project_column)
      302    0.014    0.000    0.023    0.000 /Users/jeff/experiments/network_flow_solver/.venv/lib/python3.12/site-packages/numpy/linalg/_linalg.py:2623(norm)
     1988    0.013    0.000    0.013    0.000 {built-in method builtins.max}
    18630    0.011    0.000    0.011    0.000 {method 'append' of 'list' objects}
    27602    0.010    0.000    0.010    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:798(<genexpr>)
    10660    0.010    0.000    0.014    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:40(forward_residual)
        1    0.009    0.009    0.010    0.010 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:225(_build_arcs)
      152    0.009    0.000    0.069    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/core/forrest_tomlin.py:65(update)
     1599    0.008    0.000    0.013    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis.py:169(_column_vector)
     1598    0.007    0.000    0.105    0.000 /Users/jeff/experiments/network_flow_solver/src/network_solver/basis_lu.py:39(solve_lu)
    12366    0.007    0.000    0.007    0.000 {method 'popleft' of 'collections.deque' objects}
    12635    0.007    0.000    0.007    0.000 {method 'append' of 'collections.deque' objects}
      342    0.007    0.000    0.007    0.000 {method 'reduce' of 'numpy.ufunc' objects}
     1604    0.005    0.000    0.005    0.000 {built-in method numpy.zeros}
     7799    0.005    0.000    0.005    0.000 {method 'add' of 'set' objects}
    12096    0.005    0.000    0.005    0.000 {built-in method math.isinf}
     9590    0.005    0.000    0.005    0.000 {built-in method builtins.abs}
        2    0.004    0.002    0.831    0.416 /Users/jeff/experiments/network_flow_solver/src/network_solver/simplex.py:761(_run_simplex_iterations)




================================================================================
Profiling complete!
================================================================================
